<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kubernetes on ideas</title><link>https://neilarmitage.com/tags/kubernetes/</link><description>Recent content in kubernetes on ideas</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>neil@neilarmitage.com (Neil Armitage)</managingEditor><webMaster>neil@neilarmitage.com (Neil Armitage)</webMaster><lastBuildDate>Mon, 12 Dec 2022 13:05:25 +0000</lastBuildDate><atom:link href="https://neilarmitage.com/tags/kubernetes/index.xml" rel="self" type="application/rss+xml"/><item><title>Upgrade Kubernetes to 1.26</title><link>https://neilarmitage.com/posts/upgrade_kubernetes/</link><pubDate>Mon, 12 Dec 2022 13:05:25 +0000</pubDate><author>neil@neilarmitage.com (Neil Armitage)</author><guid>https://neilarmitage.com/posts/upgrade_kubernetes/</guid><description>The following will update the 3 node cluster build here to 1.26.
Before installing 1.26 the hosts need to be running containerd &amp;gt; 1.6, the Ubuntu 20.04 hosts can be upgraded using the instructions here
Upgrading the Master node $ export RELEASE=1.26.0 $ sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install -y --allow-change-held-packages kubeadm=$RELEASE-00 $ kubectl drain k8s-control --ignore-daemonsets $ sudo kubeadm upgrade plan v$RELEASE [upgrade/config] Making sure the configuration is correct: [upgrade/config] Reading configuration from the cluster.</description></item><item><title>Upgrade Containerd on Ubuntu 20.04</title><link>https://neilarmitage.com/posts/upgrade_containerd/</link><pubDate>Mon, 12 Dec 2022 13:05:14 +0000</pubDate><author>neil@neilarmitage.com (Neil Armitage)</author><guid>https://neilarmitage.com/posts/upgrade_containerd/</guid><description>Kubernetes 1.26 requires Containerd &amp;gt; 1.6 but the highest version in the Ubuntu 20.04 repos is 1.5.x. The following instructions will get a 20.04 host ready to upgrade to Kubernetes 1.26.
The following instructions assume you are running as root
mkdir -p /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg echo \ &amp;#34;deb [arch=$(dpkg --print-architecture) \ signed-by=/etc/apt/keyrings/docker.gpg] \ https://download.docker.com/linux/ubuntu \ $(lsb_release -cs) stable&amp;#34; | \ sudo tee /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null apt update apt install containerd.</description></item><item><title>Building a basic kubernetes cluster with kubeadm</title><link>https://neilarmitage.com/posts/basic_kubernetes_cluster/</link><pubDate>Fri, 09 Dec 2022 14:07:31 +0000</pubDate><author>neil@neilarmitage.com (Neil Armitage)</author><guid>https://neilarmitage.com/posts/basic_kubernetes_cluster/</guid><description>This is just a basic setup installing a 3 node Kubernetes setup on 3 nodes. The nodes can probably be anywhere, AWS, GCP, VMware etc as long as they are running Ubuntu 20.04.
One node needs to be designated as the master and the other 2 as workers.
To start with the pre-requisites need to be installed on all 3 nodes. This can be done via a script or by entering the commands below individually</description></item></channel></rss>