<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kubernetes on Neil Armitage</title><link>https://neilarmitage.com/tags/kubernetes/</link><description>Recent content in kubernetes on Neil Armitage</description><generator>Hugo -- gohugo.io</generator><copyright>Copyright © 2008–2023, Neil Armitage; all rights reserved.</copyright><lastBuildDate>Thu, 15 Dec 2022 11:32:37 +0000</lastBuildDate><atom:link href="https://neilarmitage.com/tags/kubernetes/index.xml" rel="self" type="application/rss+xml"/><item><title>AWS controllers for Kubernetes</title><link>https://neilarmitage.com/post/aws_controllers_for_kubernetes/</link><pubDate>Thu, 15 Dec 2022 11:32:37 +0000</pubDate><guid>https://neilarmitage.com/post/aws_controllers_for_kubernetes/</guid><description>
I struggled to find a working (and simple) example on using ACK so I put this together to create an S3 bucket.
AWS Controllers for Kubernetes (also known as ACK) are built around the Kubernetes extension concepts of Custom Resource and Custom Resource Definitions. You can use ACK to define and use AWS services directly from Kubernetes. This helps you take advantage of managed AWS services for your Kubernetes applications without needing to define resources outside of the cluster.</description></item><item><title>Upgrade Kubernetes to 1.26</title><link>https://neilarmitage.com/post/upgrade_kubernetes/</link><pubDate>Mon, 12 Dec 2022 13:05:25 +0000</pubDate><guid>https://neilarmitage.com/post/upgrade_kubernetes/</guid><description>
The following will update the 3 node cluster build here to 1.26.
Before installing 1.26 the hosts need to be running containerd &amp;gt; 1.6, the Ubuntu 20.04 hosts can be upgraded using the instructions here
Upgrading the Master node 1$ export RELEASE=1.26.0 2 3$ sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install -y --allow-change-held-packages kubeadm=$RELEASE-00 4 5$ kubectl drain k8s-control --ignore-daemonsets 6 7$ sudo kubeadm upgrade plan v$RELEASE 8 9[upgrade/config] Making sure the configuration is correct: 10[upgrade/config] Reading configuration from the cluster.</description></item><item><title>Upgrade Containerd on Ubuntu 20.04</title><link>https://neilarmitage.com/post/upgrade_containerd/</link><pubDate>Mon, 12 Dec 2022 13:05:14 +0000</pubDate><guid>https://neilarmitage.com/post/upgrade_containerd/</guid><description>
Kubernetes 1.26 requires Containerd &amp;gt; 1.6 but the highest version in the Ubuntu 20.04 repos is 1.5.x. The following instructions will get a 20.04 host ready to upgrade to Kubernetes 1.26.
The following instructions assume you are running as root
1 2mkdir -p /etc/apt/keyrings 3curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg 4 5echo \ 6 &amp;#34;deb [arch=$(dpkg --print-architecture) \ 7 signed-by=/etc/apt/keyrings/docker.gpg] \ 8 https://download.docker.com/linux/ubuntu \ 9 $(lsb_release -cs) stable&amp;#34; | \ 10 sudo tee /etc/apt/sources.</description></item><item><title>Building a basic kubernetes cluster with kubeadm</title><link>https://neilarmitage.com/post/basic_kubernetes_cluster/</link><pubDate>Fri, 09 Dec 2022 14:07:31 +0000</pubDate><guid>https://neilarmitage.com/post/basic_kubernetes_cluster/</guid><description>
This is just a basic setup installing a 3 node Kubernetes setup on 3 nodes. The nodes can probably be anywhere, AWS, GCP, VMware etc as long as they are running Ubuntu 20.04.
One node needs to be designated as the master and the other 2 as workers.
To start with the pre-requisites need to be installed on all 3 nodes. This can be done via a script or by entering the commands below individually</description></item></channel></rss>